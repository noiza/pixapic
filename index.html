<!DOCTYPE html>
<html>
<head>
	<title>pix-a-pic: Heart</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>

<table id="table">
	<tbody>
		<tr>
			<td></td>
			<td></td>
			<td>3</td>
			<td>4</td>
			<td>4</td>
			<td>4</td>
			<td>3</td>
		</tr>
		<tr>
			<td>2</td>
			<td>2</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>5</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>5</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>3</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td>1</td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
	</tbody>
</table>
<button id="check-errors">Check errors</button>
<script>
	var answers = [[1, 1, 0, 1, 1],
				   [1, 1, 1, 1, 1],
				   [1, 1, 1, 1, 1],
				   [0, 1, 1, 1, 0],
				   [0, 0, 1, 0, 0]];

	var userAnswers =  [[2, 2, 2, 2, 2],
				   		[2, 2, 2, 2, 2],
				  		[2, 2, 2, 2, 2],
				   		[2, 2, 2, 2, 2],
				   		[2, 2, 2, 2, 2]];	

	var rIndex, cIndex;

	var table = document.getElementById('table');
	var checkErrorsButton = document.getElementById('check-errors');

	paintGameField();

    function addBlack(td) {
        if (td.classList.contains('white')) {
            td.classList.remove('white');
        }
        td.classList.toggle('black');
    }


	function addWhite(td) {
		if (td.classList.contains('black')) {
			td.classList.remove('black');
		}
		td.classList.toggle('white');
	}

	function paintGameField() {
		for (var i = 1; i < table.rows.length; i++) {
			//table.rows[i].classList.add('test');
			for (var j = 2; j <= table.rows.length; j++) {
				table.rows[i].cells[j].classList.add('gray');
			}
		}
	}

	//onclick 'Yes' or 1
	for (var i = 1; i < table.rows.length; i++) {
		for (var j = 2; j <= table.rows.length; j++) {
			table.rows[i].cells[j].onclick = function() {
				rowIndex = this.parentElement.rowIndex - 1;
				cellIndex = this.cellIndex - 2;
				console.log(rowIndex + ', '+ cellIndex);

				// записать в массив выбранный элемент = 1 (Yes)
				// или 2, если 1 уже есть
				if (userAnswers[rowIndex][cellIndex] === 1 ) {
					userAnswers[rowIndex][cellIndex] = 2;
				} else {
					userAnswers[rowIndex][cellIndex] = 1;
				}
				addBlack(this);
			}
		}
	}

	//oncontextmenu 'No' or 0
	for (var i = 1; i < table.rows.length; i++) {
		for (var j = 2; j <= table.rows.length; j++) {
			table.rows[i].cells[j].oncontextmenu = function() {
				rowIndex = this.parentElement.rowIndex - 1;
				cellIndex = this.cellIndex - 2;
				console.log(rowIndex + ', '+ cellIndex);

				if (userAnswers[rowIndex][cellIndex] === 0 ) {
					userAnswers[rowIndex][cellIndex] = 2;
				} else {
					userAnswers[rowIndex][cellIndex] = 0;
				}
				addWhite(this);
				return false;
			}
		}
	}

	//проверка на ошибки 
	//сравнить два массива, если елементы одинаковые или равны 2 (не заполнены), то правильно и показать сообщение
	
	checkErrorsButton.onclick = function () {
		for (var i = 0; i < answers.length; i++) {
			for (var j = 0; j <= answers.length; j++) {
				if ( !(userAnswers[i][j] === answers [i][j] || userAnswers[i][j] === 2) ) {
					alert('errors!');
					return;
				}
			}
		}
	}
	





</script>
</body>
</html>